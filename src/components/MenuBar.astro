---
import "../styles/grid.css";

import { SITE_TITLE } from "../consts.ts";

import { getCollection } from "astro:content";

const navPages = (await getCollection("wiki"))
  .sort((a, b) => (a.data.order || 0) - (b.data.order || 0))
  .map((page) => ({
    slug: page.slug,
    title: page.data.title,
  }));

const socials = [
  {
    text: "twitter",
    href: "https://x.com/dorkin_nsfw",
    icon: "menu"
  },
  {
    text: "twitter",
    href: "https://x.com/dorkin_nsfw",
    icon: "menu"
  },
  {
    text: "twitter",
    href: "https://x.com/dorkin_nsfw",
    icon: "menu"
  },
]
---
<link rel="stylesheet"
  href="https://fonts.googleapis.com/icon?family=Material+Icons">

<aside class="sticky top-0 flex flex-col bg-black text-white h-screen">
  <header class="p-8">
    <h1 class="text-xl font-bold text-white">
      {SITE_TITLE}
    </h1>
  </header>
  <nav class="flex-grow overflow-y-auto p-2">
    <div class="space-y-2 ">
      {navPages.map((page) => (
        <a 
          href={`/${page.slug}`}
          class=" rounded-md flex items-center px-6 py-2 text-gray-300 rounded-md hover:bg-gray-800 hover:text-white transition-colors"
        >
          {page.title}
        </a>
      ))}
    </div>
  </nav>
  <footer class="flex flex-col border-t border-gray-800 px-8 py-4 text-xs text-gray-400">
    {socials.map((link) => (
      <a
        href={link.href}
        class="flex items-center text-gray-300 rounded-md hover:bg-gray-800 hover:text-white transition-colors"
      >
        <span class="material-icons">{link.icon}</span>
        {link.text}
      </a>
    ))}
  </footer>
</aside>
